@use "../utilities/variables" as v;   // Tokens globales
@use "../utilities/mixin" as m;       // Mixins de media y tipografía
@use "../utilities/extend";           // Placeholders reusables

// ---------------- CONTENEDOR ----------------
.container { max-width: v.$maxw-container; margin: 0 auto; padding: 0 v.$space-4; }
.section { padding: v.$space-6 0; }

// ---------------- TITULARES ----------------
.section__title {
  @include m.clamp-font(1.25rem, "calc(1rem + 1vw)", 1.5rem);
  margin: 0 0 v.$space-4 0; font-weight: 600;
}
.section__subtitle { color: v.$muted; margin: 0; }

// ---------------- NAVBAR ----------------
.site-header .navbar { border-bottom: 1px solid v.$border; background: v.$bg; }
.navbar-brand img { width: 48px; height: 48px; object-fit: contain; border-radius: 8px; }
.navbar .nav-link { font-weight: 500; color: v.$text; }
.navbar .form-control { min-width: 220px; }
.navbar .nav-link.fs-5 { line-height: 1; }

// ---------------- HERO ----------------
.hero {
  padding: v.$space-5 0 v.$space-6;
  background: linear-gradient(180deg, #fff, #fafafa);
  display: flex; justify-content: center;
}
.hero__banner { margin: 0; border-radius: v.$radius; overflow: hidden; box-shadow: v.$shadow; animation: fadeIn .6s ease-out both; }
.hero__img { width: 100%; height: clamp(220px, 34vw, 420px); object-fit: cover; }

// ---------------- CARRUSEL ----------------
.carousel {
  position: relative;
  &::after {
    content: "Desliza \2192"; // Mensaje guía (conservado)
    position: absolute; right: v.$space-2; top: -#{v.$space-1};
    font-size: .85rem; color: v.$muted; padding: .25rem .5rem; border-radius: 999px;
    background: rgba(255,255,255,.85); box-shadow: 0 2px 6px rgba(0,0,0,.06);
    pointer-events: none; opacity: 1; transition: opacity .25s ease;
  }
  &:hover::after, &:focus-within::after, &:active::after { opacity: 0; }
  @include m.up(v.$bp-md) { &::after { display: none; } }
}

.carousel__track {
  display: grid; grid-auto-flow: column; gap: v.$space-4; overflow-x: auto;
  padding: 0 0 v.$space-2; padding-inline: v.$space-1;
  grid-auto-columns: clamp(220px, 48vw, 320px);
  scroll-snap-type: x mandatory; scroll-snap-stop: always; scroll-behavior: smooth;
  touch-action: pan-x; overscroll-behavior-inline: contain;
  scrollbar-width: thin; scrollbar-color: v.$border v.$bg-soft;

  // Scrollbar WebKit
  &::-webkit-scrollbar { height: 8px; }
  &::-webkit-scrollbar-track { background: v.$bg-soft; border-radius: 99px; }
  &::-webkit-scrollbar-thumb { background: v.$border; border-radius: 99px; }



  @include m.down(v.$bp-xs) { grid-auto-columns: 85vw; }
  @include m.between(v.$bp-xs + 1px, v.$bp-md - 1px) { grid-auto-columns: clamp(240px, 44vw, 300px); }
  @include m.up(v.$bp-lg) { grid-auto-columns: 280px; }
}

.carousel__item {
  scroll-snap-align: start; width: 100%; max-width: 100%;
  @media (hover: hover) {
    transition: transform .25s ease, box-shadow .25s ease;
    &:hover { transform: translateY(-4px); box-shadow: 0 6px 16px rgba(0,0,0,.1); }
  }
}

// ---------------- CARDS ----------------
.card-product, .card-home {
  @extend %card; position: relative; overflow: hidden; width: 100%;
  @media (hover: hover) {
    transition: transform .25s ease, box-shadow .25s ease;
    &:hover { transform: translateY(-4px); box-shadow: 0 6px 16px rgba(0,0,0,.1); }
  }
}

.card-product__media, .card-home__media {
  position: relative; width: 100%; aspect-ratio: 3/4; max-height: 340px;
  border-radius: calc(v.$radius - 4px); overflow: hidden; display: block;
  img { width: 100%; height: 100%; object-fit: contain; background: #fff; transition: transform .25s ease; }
  @media (hover: hover) { &:hover img { transform: scale(1.04); } }
  @include m.down(600px) { max-height: 260px; }
  @include m.between(v.$bp-xs + 1px, v.$bp-md - 1px) { max-height: 300px; }
}

.card-product, .card-home {
  .badge, .card__badge, [class*="badge-"] {
    position: absolute; top: .5rem; left: .5rem;
    z-index: 2; padding: .25rem .5rem; border-radius: 999px;
    pointer-events: none; background: rgba(25,135,84,.95); color: #fff;
    font-size: .75rem; line-height: 1;
  }
}

.card-product__title {
  @include m.clamp-font(1rem, "calc(1rem + .2vw)", 1.1rem);
  line-height: 1.35; margin: 0; color: v.$text;
}

.card-home__meta, .card-product .card-home__meta {
  display: grid; gap: .25rem; color: v.$muted; font-size: .92rem;
  margin: -.25rem 0 .25rem 0;
}

.meta-row { display: block; }

// ---------------- GRID / PAGE / FOOTER ----------------
.product-grid {
  display: grid; gap: v.$space-4; grid-template-columns: repeat(12, 1fr);
  @include m.up(v.$bp-lg) { grid-template-columns: repeat(4, 1fr); }
  @include m.between(v.$bp-md, 1199px) { grid-template-columns: repeat(3, 1fr); }
  @include m.down(v.$bp-collapse-sidebar) { grid-template-columns: repeat(2, 1fr); }
  @include m.down(v.$bp-xs) { grid-template-columns: 1fr; }
}

.page { padding: v.$space-6 0; }
.page__header { margin-bottom: v.$space-5; }
.page__title {
  @include m.clamp-font(1.5rem, "calc(1.2rem + 1.2vw)", 2rem);
  font-weight: 700; margin: 0; color: v.$text;
}

.page-grid {
  display: grid; grid-template-columns: 280px 1fr; gap: v.$space-5;
  @include m.down(v.$bp-collapse-sidebar) { grid-template-columns: 1fr; }
}

.filters {
  background: v.$bg-soft; border: 1px solid v.$border;
  border-radius: v.$radius; padding: v.$space-4; align-self: start;
  &__form { display: grid; gap: v.$space-4; }
  &__group { margin: 0; padding: 0; border: 0; }
  &__legend { font-weight: 600; margin-bottom: v.$space-2; }
  input { margin-right: .5rem; } .btn { border-radius: 999px; }
}

.about-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: v.$space-4; margin-bottom: v.$space-6; @include m.down(v.$bp-sm) { grid-template-columns: 1fr; } }
.about-card { @include m.card(); }
.about-card--ghost { @extend %panel-soft; }
.about-card__title { font-size: 1.125rem; margin: 0; color: v.$text; }
.about-card__text { margin: 0; color: v.$text; }

.about-method { display: grid; grid-template-columns: 1fr 1fr; gap: v.$space-5; align-items: center; margin-bottom: v.$space-6; @include m.down(v.$bp-sm) { grid-template-columns: 1fr; } }
.about-method__img { width: 100%; border-radius: v.$radius; box-shadow: v.$shadow; }

.section--contact { background: v.$bg-soft; border-top: 1px solid v.$border; border-bottom: 1px solid v.$border; }
.contact { display: grid; gap: v.$space-5; }

.social-list { display: flex; gap: v.$space-4; justify-content: center; align-items: center; padding: 0; margin: 0; list-style: none; }
.social-list__icon { width: 38px; height: 38px; filter: grayscale(15%); }

.form { display: grid; gap: v.$space-4; }
.form__row { display: grid; grid-template-columns: 1fr 1fr; gap: v.$space-4; @include m.down(v.$bp-sm) { grid-template-columns: 1fr; } }
.form__field { display: grid; gap: .35rem; }
.form__field--full { grid-column: 1 / -1; }
.form__label { font-size: .95rem; color: v.$muted; }
.form__input { border: 1px solid v.$border; border-radius: 10px; padding: .65rem .8rem; background: #fff; outline: none; @include m.focus-ring(v.$primary, .12); }
.form__actions { display: flex; gap: v.$space-3; justify-content: flex-end; }

.btn-success { background-color: v.$accent; border-color: v.$accent; @extend %btn-cta; }

.footer { background: v.$bg-soft; border-top: 1px solid v.$border; padding: v.$space-6 0; }
.footer__cols { display: grid; grid-template-columns: 1fr 1fr; gap: v.$space-6; @include m.down(v.$bp-sm) { grid-template-columns: 1fr; } }
.footer__link { color: v.$text; text-decoration: none; &:hover { text-decoration: underline; } }
